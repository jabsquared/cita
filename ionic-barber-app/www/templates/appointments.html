<!DOCTYPE html>
<ion-view name="appointments-view">
  <ion-header-bar class="bar-light">
    <button class="button icon-left ion-chevron-left button-clear button-assertive" ng-click="back()"></button>
    <h1 class="title large">{{barber}}'s Appointments</h1>
  </ion-header-bar>
  <ion-content has-bouncing="false">
    <flex-calendar events="events" options="options" style="padding-top: 2em"></flex-calendar>
    <ion-list>
      <ion-item collection-repeat="a in appointments" can-swipe="true">
        <div class="button button-full schedule-btn" ng-click="schedule(a)" ng-if="!a.client_name">
          <div class="" style="width: 100%">
            <div class="" style="float: left">
              <i class="icon icon-left ion-calendar" style="margin-right: 1em"></i> Schedule
            </div>
            <div class="" style="float: right">
              {{a.start_time | date:'yyyy-MM-dd HH:mm:ss Z'}} - {{a.end_time}}
            </div>
          </div>
        </div>

        <a href="tel:{{a.client_phone}}">
          <div class="button button-full cancel-btn" ng-if="a.client_name">
            <div class="" style="width: 100%">
              <div class="" style="float: left">
                <i class="icon icon-left ion-scissors" style="margin-right: 1em;"></i> {{a.client_name}}
              </div>
              <div class="" style="float: right">
                {{a.start_time}} - {{a.end_time}}
              </div>
            </div>
          </div>
        </a>
        <ion-option-button class="button-assertive icon ion-trash-a" ng-click="delete(a)" ng-if="a.client_name">
        </ion-option-button>
      </ion-item>
    </ion-list>

    <div style="margin-top: 3em"></div>
  </ion-content>
</ion-view>
